<!DOCTYPE html>
<head>

    
  
            <title>CardDAV Directory - sabre/</title>
    
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" href="http://sabre.io/atom.xml" title="sabre.io blog" />
    <link rel="shortcut icon" href="http://sabre.io/favicon.ico" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:100,700,300,400" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
            <link rel="stylesheet" type="text/css" href="http://sabre.io/css/sabre.css" />
    
</head>
<body >
    <header class="pagehead">

    <div class="pagehead-inner">
        <a class="logo" href="http://sabre.io/">
                            <img src="http://sabre.io/img/logo.png" alt="sabre/sabre/">
                sabre<span>/dav</span>
                    </a>

        <nav class="nav nav--page">
            <ul>
                <li class="size-auto"></li>
                <li><a href="http://sabre.io/dav">Docs</a></li>
                <li><a href="http://sabre.io/blog">Blog</a></li>
                <li><a href="http://sabre.io/support">Support</a></li>
                <li class="size-auto text--right"><a href="https://github.com/fruux?query=sabre"><i class="fa fa-github"></i></a></li>
                <!-- <li><a href="http://sabre.io/atom.xml"><i class="fa fa-rss"></i></a> <a href="https://twitter.com/sabredav"><i class="fa fa-twitter"></i></a></li> -->
            </ul>
        </nav>

    </div>

</header>

            <input class="hamburger-input" type="checkbox" id="nav-check" name="nav-check">
        <label class="hamburger-label" for="nav-check"><i class="fa fa-bars"></i></label>
    
        <main class="incl-sidebar">
                    <aside class="sidebar">
    <nav class="nav nav--sidebar">
        <ul class="list list--nav">
            <li><a href="http://sabre.io/dav">sabre/dav</a>
                            </li>
            <li><a href="http://sabre.io/event">sabre/event</a>
                            </li>
            <li><a href="http://sabre.io/http">sabre/http</a>
                            </li>
            <li><a href="http://sabre.io/katana">sabre/katana</a>
                            </li>
            <li><a href="http://sabre.io/vobject">sabre/vobject</a>
                            </li>
            <li><a href="http://sabre.io/xml">sabre/xml</a>
                            </li>
            <li><a href="http://sabre.io/uri">sabre/uri</a>
                            </li>
            <li><a href="http://sabre.io/baikal/">Baïkal</a>
                            </li>
            <li><a href="http://sabre.io/license">License</a></li>
        </ul>
    </nav>
</aside>
                <article>
                            <h1>CardDAV Directory</h1>
                <p>CardDAV Directory is a non-standard extension to the CardDAV protocol,
implemented by iOS devices and OS/X Addressbook.</p>

<p>The directory acts as a global read-only addressbook. Both clients don't
actually allow you to simply browse them, and will always present just a
searching interface.</p>

<p>The user experience is very similar to browsing an LDAP directory.</p>

<h2>What's provided</h2>

<p>SabreDAV does not provide default backends to create your directories,
it provides just a simple interface which you must implement to make this work.</p>

<p>The interface <code>Sabre\CardDAV\IDirectory</code> flags the CardDAV plugin to mark an
addressbook as a directory.</p>

<p>Furthermore, you must also specify the paths to all global CardDAV directories
in the <code>Sabre\CardDAV\Plugin::$directories</code> property.</p>

<p>This last step is required, because iOS will request locations to CardDAV 
directories on the principal, so it must be globally known where these are.</p>

<p>To make sure the directory works everywhere, your node implementing
<code>Sabre\CardDAV\IDirectory</code> must also implement <code>Sabre\DAVACL\IACL</code>.</p>

<h2>Client info</h2>

<h3>OS/X 10.6 Addressbook</h3>

<p>The OS/X 10.6 client will not request the list of directories, but it rather
assumes that there's one located at the /directory path on the root of the
server.</p>

<p>So if you want to support this client as well, ensure that that's the exact
location of the global addressbook. Because of this, this client will also not
be able to support more than 1 directory.</p>

<h3>OS/X 10.7 and 10.8</h3>

<p>These clients do pick up on the directories property, but they will only
support 1 directory at most still.</p>

<h3>iOS 4, 5 and 6.</h3>

<p>The CardDAV spec dictates that clients should not do things like a
<code>Depth: 1</code> PROPFIND on the directory. iOS 4 &amp; 5 do this though. When this
happens, simply don't return anything (empty array from <code>getChildren()</code>) rather
than throwing an error.</p>

<p>Throwing an error will break iOS 4 and 5, but this does appear to be fixed
in iOS6.</p>
            
            
                            <hr />
                <h2>Comments</h2>
                <div id="disqus_thread"></div>
                    </article>
    </main>
    
    <!-- this is where the ugly bit starts. Stupid javascript :( -->

    <script src="http://sabre.io/components/highlightjs/highlight.pack.js"></script>
    <script>
        hljs.configure({languages: ['php']});
        hljs.initHighlightingOnLoad();
    </script>

    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-2848664-5', 'sabre.io');
ga('send', 'pageview');
</script>

    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sabredav'; // required: replace example with your forum shortname
    var disqus_identifier = '/dav/carddav-directory';
    var disqus_title = 'CardDAV Directory';
    var disqus_url = 'http://sabre.io/dav/carddav-directory';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
 </script>

    <footer>

    <nav>
        <ul>
            <li>© 2016 <a href="https://fruux.com">fruux GmbH</a> · </li>
            <li><a href="http://sabre.io/support">Contact</a> · </li>
            <li><a href="http://sabre.io/legal">Legal Info</a></li>
        </ul>
        <ul>
            <li><i class="fa fa-twitter"></i> <a href="http://twitter.com/sabredav">@sabredav</a> · </li>
            <li><a href="http://twitter.com/fruux">@fruux</a></li>
                    </ul>
    </nav>

</footer>

</body>
