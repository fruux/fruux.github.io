<!DOCTYPE html>
<head>

    
  
            <title>CardDAV - sabre/</title>
    
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" href="http://sabre.io/atom.xml" title="sabre.io blog" />
    <link rel="shortcut icon" href="http://sabre.io/favicon.ico" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:100,700,300,400" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
            <link rel="stylesheet" type="text/css" href="http://sabre.io/css/sabre.css" />
    
</head>
<body >
    <header class="pagehead">

    <div class="pagehead-inner">
        <a class="logo" href="http://sabre.io/">
                            <img src="http://sabre.io/img/logo.png" alt="sabre/sabre/">
                sabre<span>/dav</span>
                    </a>

        <nav class="nav nav--page">
            <ul>
                <li class="size-auto"></li>
                <li><a href="http://sabre.io/dav">Docs</a></li>
                <li><a href="http://sabre.io/blog">Blog</a></li>
                <li><a href="http://sabre.io/support">Support</a></li>
                <li class="size-auto text--right"><a href="https://github.com/fruux?query=sabre"><i class="fa fa-github"></i></a></li>
                <!-- <li><a href="http://sabre.io/atom.xml"><i class="fa fa-rss"></i></a> <a href="https://twitter.com/sabredav"><i class="fa fa-twitter"></i></a></li> -->
            </ul>
        </nav>

    </div>

</header>

            <input class="hamburger-input" type="checkbox" id="nav-check" name="nav-check">
        <label class="hamburger-label" for="nav-check"><i class="fa fa-bars"></i></label>
    
        <main class="incl-sidebar">
                    <aside class="sidebar">
    <nav class="nav nav--sidebar">
        <ul class="list list--nav">
            <li><a href="http://sabre.io/dav">sabre/dav</a>
                            </li>
            <li><a href="http://sabre.io/event">sabre/event</a>
                            </li>
            <li><a href="http://sabre.io/http">sabre/http</a>
                            </li>
            <li><a href="http://sabre.io/katana">sabre/katana</a>
                            </li>
            <li><a href="http://sabre.io/vobject">sabre/vobject</a>
                            </li>
            <li><a href="http://sabre.io/xml">sabre/xml</a>
                            </li>
            <li><a href="http://sabre.io/uri">sabre/uri</a>
                            </li>
            <li><a href="http://sabre.io/baikal/">Baïkal</a>
                            </li>
            <li><a href="http://sabre.io/license">License</a></li>
        </ul>
    </nav>
</aside>
                <article>
                            <h1>CardDAV</h1>
                <p>Since version 1.5, SabreDAV ships with a CardDAV plugin. CardDAV allows for
addressbook-syncing functionality in SabreDAV.</p>

<h2>Database setup</h2>

<p>Example sql files are supplied for postgres, sqlite and mysql. The latter two
are officially supported and unittested.</p>

<p>This example assumes you're using sqlite.</p>

<p>Create a 'data' directory where you're going to store the sqlite database.</p>

<pre><code>mkdir data/
cat examples/sql/sqlite.* | sqlite3 data/db.sqlite
</code></pre>

<p>We'll add 1 addressbook for the admin user.</p>

<pre><code>INSERT INTO addressbooks (principaluri, displayname, uri, description, synctoken) VALUES
('principals/admin','default calendar','default','','1');
</code></pre>

<p>Now, make sure the data/db.sqlite as well as it's containing directory are writable by the server. If you are lazy you could just do:</p>

<pre><code>chmod -Rv a+rw data/
</code></pre>

<h2>Create the server endpoint</h2>

<p>Simply run the following:</p>

<pre><code>cp examples/addressbookserver.php addressbookserver.php
</code></pre>

<h2>Test in browser</h2>

<p>Try opening the full url to your new server. Make sure you append a slash at the end of the url, without this the request will fail. Example:</p>

<pre><code>http://www.example.org/~every/sabredav/addressbookserver.php/
</code></pre>

<p>This url should prompt you with an authentication dialog. The default username and password are admin and admin.</p>

<h2>Adding users</h2>

<p>SabreDAV does not provide an administrative interface. While this may happen
in the future, for now SabreDAV is mostly intended for developers. Adding new
users is done directly on the database.</p>

<p>In order to allow a user to log in, add them to the users table. You must also
add them to the principals table to enable addressbook access.</p>

<h2>Related topics</h2>

<ul>
<li><a href="/dav/caldav-carddav-integration-guide">Guide for integrating CalDAV &amp; CardDAV in existing infrastructures</a>.</li>
</ul>
            
                        <div class="version-note">
                <p>
                <i class="fa fa-warning"></i>
                Please note: you are reading the <strong>2.x version</strong>
                of this page. The following versions are also available:
                </p>

            <ul>
                                    <li><a href="/dav/1.8/carddav/">Version 1.8</a></li>
                                    <li><a href="/dav/carddav/">Version 2.x</a></li>
                            </ul>

            </div>
            
                            <hr />
                <h2>Comments</h2>
                <div id="disqus_thread"></div>
                    </article>
    </main>
    
    <!-- this is where the ugly bit starts. Stupid javascript :( -->

    <script src="http://sabre.io/components/highlightjs/highlight.pack.js"></script>
    <script>
        hljs.configure({languages: ['php']});
        hljs.initHighlightingOnLoad();
    </script>

    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-2848664-5', 'sabre.io');
ga('send', 'pageview');
</script>

    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sabredav'; // required: replace example with your forum shortname
    var disqus_identifier = '/dav/carddav';
    var disqus_title = 'CardDAV';
    var disqus_url = 'http://sabre.io/dav/carddav';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
 </script>

    <footer>

    <nav>
        <ul>
            <li>© 2016 <a href="https://fruux.com">fruux GmbH</a> · </li>
            <li><a href="http://sabre.io/support">Contact</a> · </li>
            <li><a href="http://sabre.io/legal">Legal Info</a></li>
        </ul>
        <ul>
            <li><i class="fa fa-twitter"></i> <a href="http://twitter.com/sabredav">@sabredav</a> · </li>
            <li><a href="http://twitter.com/fruux">@fruux</a></li>
                    </ul>
    </nav>

</footer>

</body>
