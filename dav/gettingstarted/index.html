<!DOCTYPE html>
<head>

  
            <title>Getting Started - sabre/dav</title>
    
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" href="http://sabre.io/atom.xml" title="sabre.io blog" />
    <link rel="shortcut icon" href="http://sabre.io/favicon.ico" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:100,700,300,400" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
            <link rel="stylesheet" type="text/css" href="http://sabre.io/css/sabre.css" />
    
</head>
<body>
    <header>

    <div class="logo">
        <a href="http://sabre.io/">
            <img src="http://sabre.io/img/logo.png" alt="sabre/dav">
            sabre/dav
        </a>
    </div>

    <nav>
        <ul>
            <li><a href="http://sabre.io/">Home</a></li>
            <li><a href="http://sabre.io/dav">Docs</a></li>
            <li><a href="http://sabre.io/blog">Blog</a></li>
            <li><a href="http://sabre.io/support">Support</a></li>
            <!-- <li><i class="fa fa-github"></i> <a href="https://github.com/fruux">GitHub</a></li> -->
            <li><a href="http://sabre.io/atom.xml"><i class="fa fa-rss"></i></a> <a href="https://twitter.com/sabredav"><i class="fa fa-twitter"></i></a></li>
        </ul>
    </nav>

</header>

        <main class="incl-sidebar">
                    <aside>
    <ul class="sidebar-nav">
        <li><a href="http://sabre.io/dav">sabre/dav</a>
                        <ul>
                <li><a href="http://sabre.io/dav/install">Installation</a></li>
                <li><a href="http://sabre.io/dav/upgrading">Upgrading</a></li>
                <li><a href="http://sabre.io/dav/gettingstarted">Getting Started</a></li>
                <li>Troubleshooting
                    <ul>
                        <li><a href="http://sabre.io/dav/faq">FAQ</a></li>
                        <li><a href="http://sabre.io/dav/clients">Clients</a></li>
                        <li><a href="http://sabre.io/dav/webservers">Webservers</a></li>
                    </ul>
                </li>
                <li>CalDAV
                    <ul>
                        <li><a href="http://sabre.io/dav/caldav">Getting started</a></li>
                        <li><a href="http://sabre.io/dav/building-a-caldav-client">Building a CalDAV client</a></li>
                        <li><a href="http://sabre.io/dav/caldav-carddav-integration-guide">Integration guide</a></li>
                        <li><a href="http://sabre.io/dav/caldav-proxy">Delegation</a></li>
                        <li><a href="http://sabre.io/dav/caldav-sharing">Calendar sharing</a></li>
                        <li><a href="http://sabre.io/dav/ics-export-plugin">iCalendar export</a></li>
                        <li><a href="http://sabre.io/dav/scheduling">Scheduling</a></li>
                        <li><a href="http://sabre.io/dav/service-discovery">Service Discovery</a></li>
                    </ul>
                </li>
                <li>CardDAV
                    <ul>
                        <li><a href="http://sabre.io/dav/carddav">Getting started</a></li>
                        <li><a href="http://sabre.io/dav/building-a-carddav-client">Building a CardDAV client</a></li>
                        <li><a href="http://sabre.io/dav/caldav-carddav-integration-guide">Integration guide</a></li>
                        <li><a href="http://sabre.io/dav/carddav-directory">CardDAV Directory</a></li>
                        <li><a href="http://sabre.io/dav/vcf-export-plugin">vCard export</a></li>
                        <li><a href="http://sabre.io/dav/service-discovery">Service Discovery</a></li>
                    </ul>
                </li>
                <li>Other topics
                    <ul>
                        <li><a href="http://sabre.io/dav/acl">Acl</a></li>
                        <li><a href="http://sabre.io/dav/authentication">Authentication</a></li>
                        <li><a href="http://sabre.io/dav/character-encoding">Character encoding</a></li>
                        <li><a href="http://sabre.io/dav/browser-plugin">Directory indexes</a></li>
                        <li><a href="http://sabre.io/dav/davmount">DavMount</a></li>
                        <li><a href="http://sabre.io/dav/guesscontenttype">Content Types</a></li>
                        <li><a href="http://sabre.io/dav/http-patch">PATCH support</a></li>
                        <li><a href="http://sabre.io/dav/large-files">Large files</a></li>
                        <li><a href="http://sabre.io/dav/litmus">Litmus</a></li>
                        <li><a href="http://sabre.io/dav/locks">Locks</a></li>
                        <li><a href="http://sabre.io/dav/plugins">Plugins</a></li>
                        <li><a href="http://sabre.io/dav/per-user-directories/">Per-user directories</a></li>
                        <li><a href="http://sabre.io/dav/properties">Properties</a></li>
                        <li><a href="http://sabre.io/dav/property-storage">Property storage</a></li>
                        <li><a href="http://sabre.io/dav/scalability">Scalability</a></li>
                        <li><a href="http://sabre.io/dav/simplecollection">SimpleCollection</a></li>
                        <li><a href="http://sabre.io/dav/standards-support">Standards Support</a></li>
                        <li><a href="http://sabre.io/dav/temporary-files">Temporary Files</a></li>
                        <li><a href="http://sabre.io/dav/versioning">Versioning</a></li>
                        <li><a href="http://sabre.io/dav/virtual-filesystems">Virtual filesystems</a></li>
                        <li><a href="http://sabre.io/dav/davclient">WebDAV client</a></li>
                        <li><a href="http://sabre.io/dav/sync">WebDAV sync</a></li>
                        <li><a href="http://sabre.io/dav/writing-plugins">Writing Plugins</a></li>
                        <li><a href="http://sabre.io/dav/xmlelements">XML Elements</a></li>
                    </ul>
                </li>
            </ul>
                    </li>
        <li><a href="http://sabre.io/event">sabre/event</a>
                    </li>
        <li><a href="http://sabre.io/http">sabre/http</a>
                    </li>
        <li><a href="http://sabre.io/vobject">sabre/vobject</a>
                    </li>
        <li><a href="http://sabre.io/license">License</a></li>
    </ul>
</aside>
                <article>
                            <h1>Getting Started</h1>
                <p>This is a basic tutorial that will help you create a simple fileserver.</p>

<p>Before starting this tutorial, make sure you have completed the
<a href="/dav/install">Installation</a> steps.</p>

<p>Make sure you know what the exact path is to <code>vendor/autoload.php</code>. If you
did the composer install, it should be in your current directory. If you used
the zip, it will be where ever you unpacked the zip.</p>

<p>All examples assume that this file can be included as such:</p>

<pre><code>require 'vendor/autoload.php';
</code></pre>

<p>So if that's not the exact path to that file, make sure you change it.</p>

<h2>A simple server</h2>

<p>First, create a <code>data</code> and a <code>public</code> directory:</p>

<pre><code>mkdir data
mkdir public
</code></pre>

<p>We will use the <code>public</code> directory to store all the files on the webdav
server.</p>

<p>The <code>data</code> directory contains other information SabreDAV needs.</p>

<p>Now we're making both world-writable:</p>

<pre><code>chmod a+rwx data public
</code></pre>

<p>Next, create a file called <code>server.php</code>, and enter the following:</p>

<pre><code>&lt;?php

use
    Sabre\DAV;

// The autoloader
require 'vendor/autoload.php';

// Now we're creating a whole bunch of objects
$rootDirectory = new DAV\FS\Directory('public');

// The server object is responsible for making sense out of the WebDAV protocol
$server = new DAV\Server($rootDirectory);

// If your server is not on your webroot, make sure the following line has the
// correct information
$server-&gt;setBaseUri('/url/to/server.php');

// The lock manager is reponsible for making sure users don't overwrite
// each others changes.
$lockBackend = new DAV\Locks\Backend\File('data/locks');
$lockPlugin = new DAV\Locks\Plugin($lockBackend);
$server-&gt;addPlugin($lockPlugin);

// This ensures that we get a pretty index in the browser, but it is
// optional.
$server-&gt;addPlugin(new DAV\Browser\Plugin());

// All we need to do now, is to fire up the server
$server-&gt;exec();

?&gt;
</code></pre>

<h2>The base url</h2>

<p>One line in the last code block has been a cause for a lot of confusion,
so it's important to get it right.</p>

<p>We're talking about this line:</p>

<pre><code>$server-&gt;setBaseUri('/url/to/server.php');
</code></pre>

<p>This path needs to point exactly to the server script. To find out what this
should be, try to open server.php in your browser, and simply strip off the
protocol and domainname.</p>

<p>So if this is how you access sabredav:</p>

<pre><code>http://mydomain/sabredav/server.php
</code></pre>

<p>Then your base url would be:</p>

<pre><code>/sabredav/server.php
</code></pre>

<p>If you want a prettier url, you <em>must</em> use mod_rewrite or some other rewriting
system.</p>

<h2>Testing</h2>

<p>After you got the base url correctly, you will want to see if it's working.
An easy first step is to just open the server in the browser.</p>

<p>If everything was done correctly, you should see a screen similar to the
following:</p>

<p><img src="/img/gettingstarted_1.png" alt="Successful setup" /></p>

<h2>Client setup</h2>

<p>Next, you will want to start testing with a WebDAV client, to see if things
are working as expected.</p>

<h2>Troubleshooting</h2>

<p>Unlike with regular PHP web applications, it can sometimes be hard to figure
out what's wrong. Error messages are often not displayed by webdav clients,
so the only debugging feedback you're getting is a cryptic error.</p>

<p>Aside from inspecting your server in a web browser, and keeping an eye on
the php error log, we can highly recommend using a debugging proxy.</p>

<p>If your application emits an error, the debugging proxy is <em>the</em> tool to
reveal it.</p>

<p>Some tools:</p>

<ul>
<li><a href="http://www.charlesproxy.com/">Charles</a> is an easy to use GUI proxy tool for every operating system.
It's not free, but the free trial is available and runs long enough to
get your started.</li>
<li><a href="http://mitmproxy.org/">mitmproxy</a> is open source, runs in the cli and written in python. It's
not as user-friendly, so we recommend only getting started with this after
you're already a bit more comfortable with the rest of the toolset.</li>
</ul>

<h2>Next steps</h2>

<ul>
<li>Add <a href="/dav/authentication">authentication</a> to your server.</li>
<li>Read about <a href="/dav/virtual-filesystems">virtual filesystems</a> and how you can
create your own.</li>
<li>The <a href="/dav/temporary-files">temporary file filter plugin</a> can
intercept those pesky <code>.DS_Store</code> and <code>desktop.ini</code> files.</li>
<li><a href="/dav/caldav">CalDAV</a>.</li>
<li><a href="/dav/carddav">CardDAV</a>.</li>
</ul>
            
            
                            <hr />
                <h2>Comments</h2>
                <div id="disqus_thread"></div>
                    </article>
    </main>
    
    <!-- this is where the ugly bit starts. Stupid javascript :( -->

    <script src="http://sabre.io/components/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-2848664-5', 'sabre.io');
ga('send', 'pageview');
</script>

    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sabredav'; // required: replace example with your forum shortname
    var disqus_identifier = '/dav/gettingstarted';
    var disqus_title = 'Getting Started';
    var disqus_url = 'http://sabre.io/dav/gettingstarted';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
 </script>

    <footer>

    <nav>
        <ul>
            <li>© 2014 fruux GmbH | </li>
            <li><a href="http://sabre.io/support">Contact</a> | </li>
            <li><a href="http://sabre.io/legal">Legal Info</a> | </li>
            <li><i class="fa fa-twitter"></i> <a href="http://twitter.com/sabredav">@sabredav</a>, </li>
            <li><a href="http://twitter.com/fruux">@fruux</a> | </li>
            <li><i class="fa fa-github"></i> <a href="https://github.com/fruux">GitHub</a></li>
        </ul>
    </nav>

</footer>

</body>
