<!DOCTYPE html!>
<head>
    <title>sabre/dav</title>

    <link rel="stylesheet" type="text/css" href="/css/sabredav.css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:100,700,300,400" type="text/css">
    <link rel="stylesheet" href="/components/highlightjs/styles/github.css" type="text/css" />

    <link rel="shortcut icon" href="/favicon.ico" />

</head>
<body>
    <header>

    <div class="logo">
        <a href="/">
            <img src="/img/logo.png" alt="SabreDAV. A WebDAV framework for PHP.">
            SabreDAV wiki
        </a>
    </div>

    <nav>
        <ul>
            <li><a href="/">sabre/dav</a></li>
            <li><a href="/">sabre/event</a></li>
            <li><a href="/">sabre/http</a></li>
            <li><a href="/">sabre/vobject</a></li>
        </ul>
    </nav>

</header>

    <main>
        <aside>
    <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/dav/install">Installation</a></li>
        <li><a href="/dav/upgrading">Upgrading</a></li>
        <li><a href="/dav/gettingstarted">Getting Started</a></li>
        <li>
            Troubleshooting
            <ul>
                <li><a href="/dav/faq">FAQ</a></li>
                <li><a href="/dav/clients">Clients</a></li>
                <li><a href="/dav/webservers">Webservers</a></li>
            </ul>
        </li>
        <li>
            CalDAV
            <ul>
                <li><a href="/dav/caldav">Getting started</a></li>
                <li><a href="/dav/building-a-caldav-client">Building a CalDAV client</a></li>
                <li><a href="/dav/caldav-carddav-integration-guide">Integration guide</a></li>
                <li><a href="/dav/caldav-proxy">Delegation</a></li>
                <li><a href="/dav/caldav-sharing">Calendar sharing</a></li>
                <li><a href="/dav/ics-export-plugin">iCalendar export</a></li>
                <li><a href="/dav/imiphandler">iMip Handler</a></li>
                <li><a href="/dav/service-discovery">Service Discovery</a></li>
            </ul>
        </li>
        <li>
            CardDAV
            <ul>
                <li><a href="/dav/carddav">Getting started</a></li>
                <li><a href="/dav/caldav-carddav-integration-guide">Integration guide</a></li>
                <li><a href="/dav/carddav-directory">CardDAV Directory</a></li>
                <li><a href="/dav/service-discovery">Service Discovery</a></li>
            </ul>
        </li>
        <li>
            Other topics
            <ul>
                <li><a href="/dav/acl">Acl</a></li>
                <li><a href="/dav/authentication">Authentication</a></li>
                <li><a href="/dav/character-encoding">Character encoding</a></li>
                <li><a href="/dav/browser-plugin">Directory indexes</a></li>
                <li><a href="/dav/davmount">DavMount</a></li>
                <li><a href="/dav/guesscontenttype">Content Types</a></li>
                <li><a href="/dav/http-patch">PATCH support</a></li>
                <li><a href="/license">License</a></li>
                <li><a href="/dav/litmus">Litmus</a></li>
                <li><a href="/dav/plugins">Plugins</a></li>
                <li><a href="/dav/scalability">Scalability</a></li>
                <li><a href="/dav/simplecollection">SimpleCollection</a></li>
                <li><a href="/dav/standards-support">Standards Support</a></li>
                <li><a href="/dav/versioning">Versioning</a></li>
                <li><a href="/dav/virtual-filesystems">Virtual filesystems</a></li>
                <li><a href="/dav/xmlelements">XML Elements</a></li>
            </ul>
        </li>
    </ul>
</aside>
        <article>
            <h1>Upgrading from SabreDAV 1.4 to 1.5</h1>

<p>To keep the codebase clean and consistent, a few compatibility breaks were
needed. They are small and simple this time though.</p>

<p>This document describes each. Items in this list are ordered by how likely you
are to be affected by it. Every section starts with a paragraph explaining why
it would be relevant to you.</p>

<h2>The old autoloader script is now deleted</h2>

<p>If you are still including <code>Sabre.autoload.php</code> in the lib/ directory, you must
now change this to:</p>

<pre><code>include 'Sabre/autoload.php';
//or:
include 'lib/Sabre/autoload.php';
</code></pre>

<p>This change was made a long time ago, but the old autoloader has been kept
around for backwards compatibility purposes.</p>

<p>The actual script is virtually identical.</p>

<p><code>Sabre_DAV_Directory</code> is deprecated in favor of <code>Sabre_DAV_Collection</code></p>

<p>To make naming conventions consistent, <code>Sabre_DAV_Directory</code> has been renamed
to <code>Sabre_DAV_Collection</code>. The old class still exists for backwards
compatibility purposes, but it will be removed in version 1.6.</p>

<p>To fix this, simply change all occurences of <code>Sabre_DAV_Directory</code> in your
codebase to <code>Sabre_DAV_Collection</code>.</p>

<h2>Sabre_DAV_SimpleDirectory is deprecated in favor of Sabre_DAV_SimpleCollection</h2>

<p>To make naming conventions consistent, <code>Sabre_DAV_SimpleDirectory</code> has been
renamed to <code>Sabre_DAV_SimpleCollection</code>. The old class still exists for
backwards compatibility purposes, but it will be removed in version 1.6.</p>

<p>To fix this, simply change all occurences of <code>Sabre_DAV_SimpleDirectory</code> in
your codebase to <code>Sabre_DAV_SimpleCollection</code>.</p>

<h2>Sabre_VObject changes to 'parameter access'</h2>

<p>When adding new parameters to any property, the new parameter now
overwrites the old one, rather than creating a new one. This makes it
consistent with how properties are set on components.</p>

<p>What this means is that if you set the same parameter twice, you will lose the
original value. To ensure that you're adding parameters rather than replacing
them, change the following sample code:</p>

<pre><code>$vcalendar-&gt;vevent-&gt;property['param'] = 'value1';
$vcalendar-&gt;vevent-&gt;property['param'] = 'value2';
</code></pre>

<p>To:</p>

<pre><code>$vcalendar-&gt;vevent-&gt;property['param'] = 'value1';
$vcalendar-&gt;vevent-&gt;property-&gt;add('param', 'value2');
</code></pre>

<h2>Sabre_CalDAV_CalendarObject no longer implements Sabre_DAV_IProperties</h2>

<p>If you used <code>Sabre_CalDAV_CalendarObject</code> directly, or did anything with
the setProperties or getProperties method on this object, this no longer
works.</p>

<p>The only functionality it implemented was providing a 'calendardata'
property, which can still be fetched using the <code>get()</code> method.</p>

<p>This functionality has now migrated to <code>Sabre_CalDAV_Plugin</code>.</p>
        </article>
    </main>

    <script src="/components/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-2848664-5', 'sabredav.org');
ga('send', 'pageview');
</script>

    
</body>
