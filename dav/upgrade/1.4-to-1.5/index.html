<!DOCTYPE html>
<head>

    
  
            <title>Upgrading from SabreDAV 1.4 to 1.5 - sabre/dav</title>
    
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="sabre.io blog" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:100,700,300,400" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
            <link rel="stylesheet" type="text/css" href="/css/sabre.css" />
    
</head>
<body >
    <header class="pagehead">

    <div class="pagehead-inner">
        <a class="logo" href="/">
                            <img src="/img/logo.png" alt="sabre/sabre/dav">
                sabre<span>/dav</span>
                    </a>

        <nav class="nav nav--page">
            <ul>
                <li class="size-auto"></li>
                <li><a href="/dav">Docs</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/support">Support</a></li>
                <li class="size-auto text--right"><a href="https://github.com/fruux?query=sabre"><i class="fa fa-github"></i></a></li>
                <!-- <li><a href="/atom.xml"><i class="fa fa-rss"></i></a> <a href="https://twitter.com/sabredav"><i class="fa fa-twitter"></i></a></li> -->
            </ul>
        </nav>

    </div>

</header>

            <input class="hamburger-input" type="checkbox" id="nav-check" name="nav-check">
        <label class="hamburger-label" for="nav-check"><i class="fa fa-bars"></i></label>
    
        <main class="incl-sidebar">
                    <aside class="sidebar">
    <nav class="nav nav--sidebar">
        <ul class="list list--nav">
            <li><a href="/dav">sabre/dav</a>
                                <ul>
                    <li><a href="/dav/install">Installation</a></li>
                    <li><a href="/dav/upgrading">Upgrading</a></li>
                    <li><a href="/dav/gettingstarted">Getting Started</a></li>
                    <li>Troubleshooting
                        <ul>
                            <li><a href="/dav/faq">FAQ</a></li>
                            <li><a href="/dav/clients">Clients</a></li>
                            <li><a href="/dav/webservers">Webservers</a></li>
                        </ul>
                    </li>
                    <li>CalDAV
                        <ul>
                            <li><a href="/dav/caldav">Getting started</a></li>
                            <li><a href="/dav/building-a-caldav-client">Building a CalDAV client</a></li>
                            <li><a href="/dav/caldav-carddav-integration-guide">Integration guide</a></li>
                            <li><a href="/dav/caldav-proxy">Delegation</a></li>
                            <li><a href="/dav/caldav-sharing">Calendar sharing</a></li>
                            <li><a href="/dav/ics-export-plugin">iCalendar export</a></li>
                            <li><a href="/dav/scheduling">Scheduling</a></li>
                            <li><a href="/dav/service-discovery">Service Discovery</a></li>
                        </ul>
                    </li>
                    <li>CardDAV
                        <ul>
                            <li><a href="/dav/carddav/">Getting started</a></li>
                            <li><a href="/dav/building-a-carddav-client/">Building a CardDAV client</a></li>
                            <li><a href="/dav/caldav-carddav-integration-guide/">Integration guide</a></li>
                            <li><a href="/dav/carddav-directory/">CardDAV Directory</a></li>
                            <li><a href="/dav/vcf-export-plugin/">vCard export</a></li>
                            <li><a href="/dav/carddav-me-card/">Me-card</a></li>
                            <li><a href="/dav/service-discovery/">Service Discovery</a></li>
                        </ul>
                    </li>
                    <li>Other topics
                        <ul>
                            <li><a href="/dav/acl">Acl</a></li>
                            <li><a href="/dav/authentication">Authentication</a></li>
                            <li><a href="/dav/character-encoding">Character encoding</a></li>
                            <li><a href="/dav/browser-plugin">Directory indexes</a></li>
                            <li><a href="/dav/davmount">DavMount</a></li>
                            <li><a href="/dav/guesscontenttype">Content Types</a></li>
                            <li><a href="/dav/http-patch">PATCH support</a></li>
                            <li><a href="/dav/large-files">Large files</a></li>
                            <li><a href="/dav/litmus">Litmus</a></li>
                            <li><a href="/dav/locks">Locks</a></li>
                            <li><a href="/dav/plugins">Plugins</a></li>
                            <li><a href="/dav/per-user-directories/">Per-user directories</a></li>
                            <li><a href="/dav/properties">Properties</a></li>
                            <li><a href="/dav/property-storage">Property storage</a></li>
                            <li><a href="/dav/scalability">Scalability</a></li>
                            <li><a href="/dav/simplecollection">SimpleCollection</a></li>
                            <li><a href="/dav/standards-support">Standards Support</a></li>
                            <li><a href="/dav/temporary-files">Temporary Files</a></li>
                            <li><a href="/dav/versioning">Versioning</a></li>
                            <li><a href="/dav/virtual-filesystems">Virtual filesystems</a></li>
                            <li><a href="/dav/davclient">WebDAV client</a></li>
                            <li><a href="/dav/sync">WebDAV sync</a></li>
                            <li><a href="/dav/writing-plugins">Writing Plugins</a></li>
                            <li><a href="/dav/xmlelements">XML Elements</a></li>
                        </ul>
                    </li>
                </ul>
                            </li>
            <li><a href="/event">sabre/event</a>
                            </li>
            <li><a href="/http">sabre/http</a>
                            </li>
            <li><a href="/katana">sabre/katana</a>
                            </li>
            <li><a href="/vobject">sabre/vobject</a>
                            </li>
            <li><a href="/xml">sabre/xml</a>
                            </li>
            <li><a href="/uri">sabre/uri</a>
                            </li>
            <li><a href="/baikal/">Ba√Økal</a>
                            </li>
            <li><a href="/license">License</a></li>
        </ul>
    </nav>
</aside>
                <article>
                            <h1>Upgrading from SabreDAV 1.4 to 1.5</h1>
                <p>To keep the codebase clean and consistent, a few compatibility breaks were
needed. They are small and simple this time though.</p>

<p>This document describes each. Items in this list are ordered by how likely you
are to be affected by it. Every section starts with a paragraph explaining why
it would be relevant to you.</p>

<h2>The old autoloader script is now deleted</h2>

<p>If you are still including <code>Sabre.autoload.php</code> in the lib/ directory, you must
now change this to:</p>

<pre><code>include 'Sabre/autoload.php';
//or:
include 'lib/Sabre/autoload.php';
</code></pre>

<p>This change was made a long time ago, but the old autoloader has been kept
around for backwards compatibility purposes.</p>

<p>The actual script is virtually identical.</p>

<p><code>Sabre_DAV_Directory</code> is deprecated in favor of <code>Sabre_DAV_Collection</code></p>

<p>To make naming conventions consistent, <code>Sabre_DAV_Directory</code> has been renamed
to <code>Sabre_DAV_Collection</code>. The old class still exists for backwards
compatibility purposes, but it will be removed in version 1.6.</p>

<p>To fix this, simply change all occurences of <code>Sabre_DAV_Directory</code> in your
codebase to <code>Sabre_DAV_Collection</code>.</p>

<h2>Sabre_DAV_SimpleDirectory is deprecated in favor of Sabre_DAV_SimpleCollection</h2>

<p>To make naming conventions consistent, <code>Sabre_DAV_SimpleDirectory</code> has been
renamed to <code>Sabre_DAV_SimpleCollection</code>. The old class still exists for
backwards compatibility purposes, but it will be removed in version 1.6.</p>

<p>To fix this, simply change all occurences of <code>Sabre_DAV_SimpleDirectory</code> in
your codebase to <code>Sabre_DAV_SimpleCollection</code>.</p>

<h2>Sabre_VObject changes to 'parameter access'</h2>

<p>When adding new parameters to any property, the new parameter now
overwrites the old one, rather than creating a new one. This makes it
consistent with how properties are set on components.</p>

<p>What this means is that if you set the same parameter twice, you will lose the
original value. To ensure that you're adding parameters rather than replacing
them, change the following sample code:</p>

<pre><code>$vcalendar-&gt;vevent-&gt;property['param'] = 'value1';
$vcalendar-&gt;vevent-&gt;property['param'] = 'value2';
</code></pre>

<p>To:</p>

<pre><code>$vcalendar-&gt;vevent-&gt;property['param'] = 'value1';
$vcalendar-&gt;vevent-&gt;property-&gt;add('param', 'value2');
</code></pre>

<h2>Sabre_CalDAV_CalendarObject no longer implements Sabre_DAV_IProperties</h2>

<p>If you used <code>Sabre_CalDAV_CalendarObject</code> directly, or did anything with
the setProperties or getProperties method on this object, this no longer
works.</p>

<p>The only functionality it implemented was providing a 'calendardata'
property, which can still be fetched using the <code>get()</code> method.</p>

<p>This functionality has now migrated to <code>Sabre_CalDAV_Plugin</code>.</p>
            
            
                            <hr />
                <h2>Comments</h2>
                <div id="disqus_thread"></div>
                    </article>
    </main>
    
    <!-- this is where the ugly bit starts. Stupid javascript :( -->

    <script src="/components/highlightjs/highlight.pack.js"></script>
    <script>
        hljs.configure({languages: ['php']});
        hljs.initHighlightingOnLoad();
    </script>

    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-2848664-5', 'sabre.io');
ga('send', 'pageview');
</script>

    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sabredav'; // required: replace example with your forum shortname
    var disqus_identifier = '/dav/upgrade/1.4-to-1.5';
    var disqus_title = 'Upgrading from SabreDAV 1.4 to 1.5';
    var disqus_url = 'http://sabre.io/dav/upgrade/1.4-to-1.5';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
 </script>

    <footer>

    <nav>
        <ul>
            <li>¬© 2016 <a href="https://fruux.com">fruux GmbH</a> ¬∑ </li>
            <li><a href="/support">Contact</a> ¬∑ </li>
            <li><a href="/legal">Legal Info</a></li>
        </ul>
        <ul>
            <li><i class="fa fa-twitter"></i> <a href="http://twitter.com/sabredav">@sabredav</a> ¬∑ </li>
            <li><a href="http://twitter.com/fruux">@fruux</a></li>
                    </ul>
    </nav>

</footer>

</body>
